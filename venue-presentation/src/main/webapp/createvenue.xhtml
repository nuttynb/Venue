<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets">

    <ui:composition template="/templates/pageTemplate.xhtml">
        <ui:define name="title">Create new venue</ui:define>
        <ui:define name="body">
            <h:outputStylesheet name="css/venue.css"/>
            <div class="main">
                <h:form id="form">
                    <p:wizard styleClass="wizard" flowListener="#{createVenueBean.onFlowProcess}">
                        <p:tab id="general" title="#{msg['createvenue.wizard.label.general']}">
                            <p:panel header="General Informations">
                                <p:messages/>
                                <h:panelGrid columns="2" columnClasses="label, value" cellspacing="20">
                                    <h:outputText styleClass="input-label" value="Venue Name: *"/>
                                    <p:inputText value="#{venueBean.venue.name}" required="true"
                                                 requiredMessage="Venue name must not be empty."/>
                                    <h:outputText styleClass="input-label" value="Description: *"/>
                                    <p:inputTextarea value="#{venueBean.venue.description}" required="true" rows="5"
                                                     cols="50"
                                                     requiredMessage="Description must not be empty."/>
                                    <p:outputLabel styleClass="input-label" for="type" value="Venue Type:"/>
                                    <p:selectOneMenu id="type" style="width:125px" required="true"
                                                     value="#{venueBean.venue.type}" converter="typeVoConverter">
                                        <f:selectItem itemLabel="Select One" itemValue=""/>
                                        <f:selectItems value="#{typeBean.types}" var="type"
                                                       itemLabel="#{type.name}" itemValue="#{type}"/>
                                    </p:selectOneMenu>
                                </h:panelGrid>
                            </p:panel>
                        </p:tab>

                        <p:tab id="address" title="#{msg['createvenue.wizard.label.address']}">
                            <p:panel header="Address Details">
                                <p:messages/>
                                <h:panelGrid columns="2" columnClasses="label, value" cellspacing="20">
                                    <h:outputText value="Country: *"/>
                                    <p:inputText value="#{venueBean.venue.address.country}" required="true"
                                                 requiredMessage="Country must not be empty."/>
                                    <h:outputText value="Postal Code: *"/>
                                    <p:inputText value="#{venueBean.venue.address.postcode}" required="true"
                                                 label="Postal code"
                                                 requiredMessage="Postal code must not be empty."/>
                                    <h:outputText value="City: *"/>
                                    <p:inputText value="#{venueBean.venue.address.city}" required="true"
                                                 requiredMessage="City must not be empty."/>
                                    <h:outputText value="Street: *"/>
                                    <p:inputText value="#{venueBean.venue.address.street}" required="true"
                                                 requiredMessage="Street must not be empty."/>
                                    <h:outputText value="Number: *"/>
                                    <p:inputText value="#{venueBean.venue.address.number}" required="true"
                                                 requiredMessage="Number must not be empty."/>
                                </h:panelGrid>
                            </p:panel>
                        </p:tab>

                        <p:tab id="confirm" title="#{msg['createvenue.wizard.label.confirmation']}">
                            <p:panel header="Confirmation">
                                <h:panelGrid id="confirmation" columns="2" columnClasses="grid,grid" cellspacing="40">
                                    <h:panelGrid columns="2" columnClasses="label, value">
                                        <h:outputText value="Venue name: "/>
                                        <h:outputText value="#{venueBean.venue.name}" styleClass="outputLabel"/>

                                        <h:outputText value="Description: "/>
                                        <h:outputText value="#{venueBean.venue.description}" styleClass="outputLabel"
                                                      style="word-wrap:break-word;"/>
                                        <h:outputText value="Venue type: "/>
                                        <h:outputText value="#{venueBean.venue.type.name}" styleClass="outputLabel"/>
                                    </h:panelGrid>

                                    <h:panelGrid columns="2" columnClasses="label, value">
                                        <h:outputText value="Country: "/>
                                        <h:outputText value="#{venueBean.venue.address.country}"
                                                      styleClass="outputLabel"/>
                                        <h:outputText value="Postal: "/>
                                        <h:outputText value="#{venueBean.venue.address.postcode}"
                                                      styleClass="outputLabel"/>
                                        <h:outputText value="City: "/>
                                        <h:outputText value="#{venueBean.venue.address.city}" styleClass="outputLabel"/>
                                        <h:outputText value="Street: "/>
                                        <h:outputText value="#{venueBean.venue.address.street}"
                                                      styleClass="outputLabel"/>
                                        <h:outputText value="Number: "/>
                                        <h:outputText value="#{venueBean.venue.address.number}"
                                                      styleClass="outputLabel"/>
                                    </h:panelGrid>
                                </h:panelGrid>

                                <p:commandButton value="Submit" action="#{createVenueBean.doCreate}" process="@this"/>
                            </p:panel>
                        </p:tab>
                    </p:wizard>
                </h:form>
            </div>
        </ui:define>
    </ui:composition>
</html>