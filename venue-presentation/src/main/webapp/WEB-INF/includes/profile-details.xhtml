<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:ui="http://java.sun.com/jsf/facelets">
    <div class="box venue-name">#{userBean.name}#{msg['user.venue']}</div>
    <h:form id="form">
        <p:growl id="messages" showDetail="true" autoUpdate="true"/>
        <p:panelGrid id="main-content-grid" styleClass="ui-panelgrid-blank" cellspacing="20" style="width: 100%;">
            <p:row>
                <p:column style="padding: 0;vertical-align: top;">
                    <p:panelGrid id="left-side-bar" styleClass="left">
                        <p:row>
                            <p:column>
                                <h:outputLink styleClass="open-dialog-link" value="javascript:void(0)"
                                              onclick="PF('imageDialog').show();">
                                    <p:graphicImage styleClass="profile-image centered-block" name="images/no_image.PNG"
                                                    width="200" rendered="#{venueBean.venue.profileImage eq null}"/>
                                    <p:graphicImage styleClass="profile-image centered-block"
                                                    value="#{venueImages.image}"
                                                    alt="#{venueBean.venue.profileImage.name}"
                                                    title="#{venueBean.venue.profileImage.name}" width="200"
                                                    rendered="#{venueBean.venue.profileImage ne null}">
                                        <f:param name="imageId" value="#{venueBean.venue.profileImage.id}"/>
                                    </p:graphicImage>
                                </h:outputLink>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <h:outputLink styleClass="open-dialog-link" value="javascript:void(0)"
                                              onclick="PF('typeDialog').show();"
                                              style="text-decoration: none;">
                                    <div class="box">
                                        <div class="box-header">
                                            <h:outputText value="#{msg['venue.type']}"/>
                                        </div>
                                        <div class="box-content">
                                            <h:outputText id="type" value="#{venueBean.venue.type.name}"/>
                                        </div>
                                    </div>
                                </h:outputLink>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <h:outputLink styleClass="open-dialog-link" value="javascript:void(0)"
                                              onclick="PF('addressDialog').show();"
                                              style="text-decoration: none;">
                                    <div class="box">
                                        <div class="box-header">
                                            <h:outputText value="#{msg['createvenue.wizard.label.address']}"/>
                                        </div>
                                        <div class="box-content">
                                            <h:panelGrid id="address" columns="2" columnClasses="label, value"
                                                         cellspacing="100">
                                                <h:outputText styleClass="output-label"
                                                              value="#{msg['venue.address.country']}"/>
                                                <h:outputText id="country" value="#{venueBean.venue.address.country}"
                                                              styleClass="output-label"/>
                                                <h:outputText styleClass="output-label"
                                                              value="#{msg['venue.address.postalcode']}"/>
                                                <h:outputText id="postcode" value="#{venueBean.venue.address.postcode}"
                                                              styleClass="output-label"/>
                                                <h:outputText styleClass="output-label"
                                                              value="#{msg['venue.address.city']}"/>
                                                <h:outputText id="city" value="#{venueBean.venue.address.city}"
                                                              styleClass="output-label"/>
                                                <h:outputText styleClass="output-label"
                                                              value="#{msg['venue.address.street']}"/>
                                                <h:outputText id="street" value="#{venueBean.venue.address.street}"
                                                              styleClass="output-label"/>
                                                <h:outputText styleClass="output-label"
                                                              value="#{msg['venue.address.number']}"/>
                                                <h:outputText id="number" value="#{venueBean.venue.address.number}"
                                                              styleClass="output-label"/>
                                            </h:panelGrid>
                                        </div>
                                    </div>
                                </h:outputLink>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <div class="box">
                                    <div class="box-header">#{msg['venue.image.upload']}</div>
                                    <div class="box-content">
                                        <p:fileUpload fileUploadListener="#{profileBean.fileUpload}" mode="advanced"
                                                      dragDropSupport="true"
                                                      update="messages :form" sizeLimit="200000"
                                                      allowTypes="/(\.|\/)(gif|jpe?g|png)$/" multiple="true"/>
                                    </div>
                                </div>
                            </p:column>
                        </p:row>
                    </p:panelGrid>
                </p:column>
                <p:column styleClass="right" style="padding:0;">
                    <p:panelGrid id="right-side-bar" styleClass="no-padding">
                        <p:row>
                            <p:column>
                                <h:outputLink styleClass="open-dialog-link" value="javascript:void(0)"
                                              onclick="PF('nameDialog').show();" style="text-decoration: none;">
                                    <div class="box">
                                        <div class="venue-name">
                                            <h:outputText id="name" value="#{venueBean.venue.name}"/>
                                        </div>
                                    </div>
                                </h:outputLink>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <h:outputLink styleClass="open-dialog-link" value="javascript:void(0)"
                                              onclick="PF('descriptionDialog').show();"
                                              style="text-decoration: none;">
                                    <div class="box">
                                        <div class="box-header">
                                            <h:outputText value="#{msg['venue.description']}"/>
                                        </div>
                                        <div class="box-content">
                                            <h:outputText id="description" value="#{venueBean.venue.description}"/>
                                        </div>
                                    </div>
                                </h:outputLink>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <p:accordionPanel multiple="true" activeIndex="0,1">
                                    <p:tab title="#{msg['venue.images']}">
                                        <h:outputText value="#{msg['no.images']}"
                                                      rendered="#{venueBean.venue.images.isEmpty()}"/>
                                        <p:galleria value="#{venueBean.venue.images}" var="image" panelWidth="500"
                                                    style="margin: 0 auto;"
                                                    panelHeight="313" showCaption="true"
                                                    rendered="#{!venueBean.venue.images.isEmpty()}" effect="puff"
                                                    effectSpeed="3000" autoPlay="false" transitionInterval="500">
                                            <p:graphicImage value="#{venueImages.image}" alt="#{image.name}"
                                                            title="#{image.name}">
                                                <f:param name="imageId" value="#{image.id}"/>
                                            </p:graphicImage>
                                        </p:galleria>
                                    </p:tab>
                                    <p:tab title="#{msg['venue.events']}">
                                        <h1>Events schedule.......</h1>
                                        <p:schedule value="#{scheduleBean.eventModel}"
                                                    editable="true"
                                                    widgetVar="myschedule">
                                            <p:ajax event="dateSelect" listener="#{scheduleView.onDateSelect}"
                                                    update="form:eventDetails" oncomplete="PF('eventDialog').show();"/>
                                            <p:ajax event="eventSelect" listener="#{scheduleView.onEventSelect}"
                                                    update="form:eventDetails" oncomplete="PF('eventDialog').show();"/>
                                            <p:ajax event="eventMove" listener="#{scheduleView.onEventMove}"
                                                    update="form:eventDetails"/>
                                            <p:ajax event="eventResize" listener="#{scheduleView.onEventResize}"
                                                    update="form:eventDetails"/>
                                        </p:schedule>
                                    </p:tab>
                                </p:accordionPanel>
                            </p:column>
                        </p:row>
                    </p:panelGrid>
                </p:column>
            </p:row>
        </p:panelGrid>
        <p:dialog modal="true" closeOnEscape="true" header="#{msg['venue.name']}" widgetVar="nameDialog"
                  showEffect="fade"
                  hideEffect="fade" minHeight="100" minWidth="100">

            <p:inputTextarea styleClass="centered-block centered-text" value="#{venueBean.venue.name}"
                             required="true"/>
            <p:commandButton styleClass="centered-block" value="#{msg['dialog.save']}"
                             oncomplete="PF('nameDialog').hide();"
                             icon="ui-icon-check" actionListener="#{profileBean.onModify}"
                             update="main-content-grid"/>
        </p:dialog>
        <p:dialog modal="true" closeOnEscape="true" header="#{msg['venue.description']}"
                  widgetVar="descriptionDialog"
                  showEffect="fade"
                  hideEffect="fade" minHeight="100">
            <p:inputTextarea styleClass="centered-block centered-text" value="#{venueBean.venue.description}"/>
            <p:commandButton styleClass="centered-block" value="#{msg['dialog.save']}"
                             oncomplete="PF('descriptionDialog').hide();"
                             icon="ui-icon-check" actionListener="#{profileBean.onModify}"
                             update="main-content-grid"/>
        </p:dialog>
        <p:dialog modal="true" closeOnEscape="true" header="#{msg['venue.type']}" widgetVar="typeDialog"
                  showEffect="fade"
                  hideEffect="fade" minHeight="100">
            <p:selectOneMenu styleClass="centered-block centered-text" style="width:125px" required="true"
                             value="#{venueBean.venue.type}" converter="typeVoConverter"
                             requiredMessage="#{msg['venue.type']} #{msg['createvenue.wizard.requiredmessage']}">
                <f:selectItem itemLabel="#{msg['selectonemenu.select']}" itemValue=""/>
                <f:selectItems value="#{typeBean.types}" var="type"
                               itemLabel="#{type.name}" itemValue="#{type}"/>
            </p:selectOneMenu>
            <p:commandButton styleClass="centered-block" value="#{msg['dialog.save']}"
                             oncomplete="PF('typeDialog').hide();"
                             icon="ui-icon-check" actionListener="#{profileBean.onModify}"
                             update="main-content-grid"/>
        </p:dialog>
        <p:dialog modal="true" closeOnEscape="true" header="#{msg['createvenue.wizard.label.address']}"
                  widgetVar="addressDialog"
                  showEffect="fade"
                  hideEffect="fade" minHeight="100">
            <h:panelGrid styleClass="centered-block" columns="2" columnClasses="label, value" cellspacing="20">
                <h:outputText styleClass="input-label" value="#{msg['venue.address.country']} *"/>
                <p:inputText value="#{venueBean.venue.address.country}" required="true"
                             requiredMessage="#{msg['venue.address.country']} #{msg['createvenue.wizard.requiredmessage']}"/>
                <h:outputText styleClass="input-label"
                              value="#{msg['venue.address.postalcode']} *"/>
                <p:inputText value="#{venueBean.venue.address.postcode}" required="true"
                             label="#{msg['venue.address.postalcode']}"
                             requiredMessage="#{msg['venue.address.postalcode']} #{msg['createvenue.wizard.requiredmessage']}"/>
                <h:outputText styleClass="input-label" value="#{msg['venue.address.city']} *"/>
                <p:inputText value="#{venueBean.venue.address.city}" required="true"
                             requiredMessage="#{msg['venue.address.city']} #{msg['createvenue.wizard.requiredmessage']}"/>
                <h:outputText styleClass="input-label" value="#{msg['venue.address.street']} *"/>
                <p:inputText value="#{venueBean.venue.address.street}" required="true"
                             requiredMessage="#{msg['venue.address.street']} #{msg['createvenue.wizard.requiredmessage']}"/>
                <h:outputText styleClass="input-label" value="#{msg['venue.address.number']} *"/>
                <p:inputText value="#{venueBean.venue.address.number}" required="true"
                             requiredMessage="#{msg['venue.address.number']} #{msg['createvenue.wizard.requiredmessage']}"/>
            </h:panelGrid>

            <p:commandButton styleClass="centered-block" value="#{msg['dialog.save']}"
                             oncomplete="PF('addressDialog').hide();"
                             icon="ui-icon-check" actionListener="#{profileBean.onModify}"
                             update="main-content-grid"/>
        </p:dialog>
        <p:dialog modal="true" closeOnEscape="true" header="#{msg['venue.profile.image']}"
                  widgetVar="imageDialog"
                  showEffect="fade"
                  hideEffect="fade" width="800" height="500" closable="false" resizable="false">
            <div class="centered-block centered-text">
                <h:outputText styleClass="pic-helper" value="#{msg['no.profile.image']}"
                              rendered="#{venueBean.venue.images.isEmpty()}"/>
            </div>
            <p:ring id="custom" value="#{venueBean.venue.images}" var="image" autoplay="true"
                    easing="easeInOutBack"
                    autoplayPauseOnHover="true" autoplayDuration="2000" style="height: 280px;">
                <h:commandLink>
                    <f:param name="profileImageId" value="#{image.id}"/>
                    <p:graphicImage value="#{venueImages.image}" alt="#{image.name}"
                                    title="#{image.name}" width="150" styleClass="profile-images">
                        <f:param name="imageId" value="#{image.id}"/>
                    </p:graphicImage>
                    <p:ajax event="click" listener="#{profileBean.onClickedProfileImage}"/>
                </h:commandLink>
            </p:ring>
            <div class="centered-block centered-text">
                <h:outputText styleClass="pic-helper" value="#{msg['click.picture']}"
                              rendered="#{not venueBean.venue.images.isEmpty()}"/>
            </div>
            <div class="bottom-div">
                <p:commandButton value="#{msg['dialog.save']}"
                                 oncomplete="PF('imageDialog').hide();"
                                 icon="ui-icon-check"
                                 update=":form" styleClass="centered-block"/>
            </div>
        </p:dialog>
        <p:dialog widgetVar="eventDialog" header="Event Details" showEffect="clip" hideEffect="clip">
            <h:panelGrid id="eventDetails" columns="2">
                <h:outputLabel for="title" value="Title:"/>
                <p:inputText id="title" value="#{scheduleBean.event.title}"/>

                <h:outputLabel for="from" value="From:"/>
                <p:calendar id="from" value="#{scheduleBean.event.startDate}" pattern="dd/MM/yyyy HH:mm"/>

                <h:outputLabel for="to" value="To:"/>
                <p:calendar id="to" value="#{scheduleBean.event.endDate}" pattern="dd/MM/yyyy HH:mm"/>

                <h:outputLabel for="allDay" value="All Day:"/>
                <h:selectBooleanCheckbox id="allDay" value="#{scheduleBean.event.allDay}"/>

                <p:commandButton type="reset" value="Reset"/>
                <p:commandButton value="Save" oncomplete="myschedule.update();eventDialog.hide();"
                                 actionListener="#{scheduleBean.addEvent}"/>
            </h:panelGrid>
            <p:messages/>
        </p:dialog>
    </h:form>
</ui:composition>
